<html>
  <head>
    <title>Test of the Subway Map SVG</title>
  </head>
  <body bgcolor=white>
	<script src="http://d3js.org/d3.v3.min.js"></script>
	<script>

	var diameter = 960,
		format = d3.format(",d"),
		color = d3.scale.category20c();

	var bubble = d3.layout.pack()
		.sort(null)
		.size([diameter, diameter])
		.padding(1.5);

	var svg = d3.select("body").append("svg")
		.attr("width", diameter)
		.attr("height", diameter)
		.attr("class", "bubble");

	var mapScale = 0.5;
	var stationSize = 10;
	d3.json("processing/station_map.json", function(error, d) {
	  var newStations = svg.selectAll(".node")
		  .data(d)
		  .enter()
		  .append("g")
		  .attr("class", "node")
		  .attr("transform", function(d) { return "translate(" + mapScale * d.x + "," + mapScale * d.y + ")"; });
		  
	  newStations.append("circle")
		  .attr("r", mapScale * stationSize)
		  .attr("class", "stationDot");
	  
	  var hitBoxSize = (mapScale * stationSize) * 4;
	  newStations.append("rect")
		  .attr("width", hitBoxSize)
		  .attr("height", hitBoxSize)
		  .attr("x", -(hitBoxSize)/2)
		  .attr("y", -(hitBoxSize)/2)
		  .attr("class", "stationHitBox")
		  .style("visibility", "hidden");
		  
	});

	</script>
	
  </body>
  </html>